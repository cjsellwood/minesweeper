(this.webpackJsonpminesweeper=this.webpackJsonpminesweeper||[]).push([[0],{22:function(e,t,r){},23:function(e,t,r){},24:function(e,t,r){"use strict";r.r(t);var a=r(0),n=r.n(a),c=r(5),i=r.n(c),u=r(3),l="STORE_DIFFICULTY",o="START_GAME",s="FLAG_SQUARE",d="CLEAR_SQUARE",f=r(8),j=function(e){var t=function(e){var t;switch(e){case"Easy":t=10;break;case"Medium":t=20;break;case"Hard":t=30}for(var r=[],a=0;a<t;a++){for(var n=[],c=0;c<t;c++)n.push({clear:!1,mine:!1,flag:!1,adjacent:0});r.push(n)}return r}(e);return t=function(e){for(var t=0;t<e.length;t++)for(var r=0;r<e[t].length;r++)if(!e[t][r].mine)for(var a=t-1;a<=t+1;a++)for(var n=r-1;n<=r+1;n++)a<=-1||a>=e.length||n<=-1||n>=e[t].length||e[a][n].mine&&(e[t][r].adjacent=e[t][r].adjacent+1);return e}(t=function(e,t){var r,a;switch(e){case"Easy":r=15;break;case"Medium":r=60;break;case"Hard":r=135}for(;(a=t,a.reduce((function(e,t){return[].concat(Object(f.a)(e),Object(f.a)(t))}),[])).filter((function(e){return!0===e.mine})).length<r;){var n=Math.floor(Math.random()*t.length),c=Math.floor(Math.random()*t.length);t[n][c].mine=!0}return t}(e,t)),{type:o,startGame:!0,board:t}},b=r(1),m=Object(u.b)((function(e){return{difficulty:e.minesweeper.difficulty}}),(function(e){return{storeDifficulty:function(t){e(function(e){return{type:l,difficulty:e}}(t))},startGame:function(t){e(j(t))}}}))((function(e){var t=function(t){e.storeDifficulty(t.target.value)};return Object(b.jsxs)("form",{onSubmit:function(t){t.preventDefault(),e.startGame(e.difficulty)},children:[Object(b.jsx)("h2",{children:"Choose Difficulty"}),Object(b.jsxs)("div",{children:[Object(b.jsx)("input",{type:"radio",name:"difficulty",id:"Easy",value:"Easy",defaultChecked:"Easy"===e.difficulty,onChange:t,"data-testid":"easy-difficulty"}),Object(b.jsx)("label",{htmlFor:"Easy",children:"Easy"}),Object(b.jsx)("input",{type:"radio",name:"difficulty",id:"Medium",value:"Medium",defaultChecked:"Medium"===e.difficulty,onChange:t,"data-testid":"medium-difficulty"}),Object(b.jsx)("label",{htmlFor:"Medium",children:"Medium"}),Object(b.jsx)("input",{type:"radio",name:"difficulty",id:"Hard",value:"Hard",defaultChecked:"Hard"===e.difficulty,onChange:t}),Object(b.jsx)("label",{htmlFor:"Hard",children:"Hard"}),Object(b.jsx)("div",{children:Object(b.jsx)("button",{type:"submit",children:"Start"})})]})]})})),h=Object(u.b)((function(e){return{board:e.minesweeper.board,gameOver:e.minesweeper.gameOver}}),(function(e){return{flagSquare:function(t,r){e(function(e,t){return{type:s,row:e,col:t}}(t,r))},clearSquare:function(t,r){e(function(e,t){return{type:d,row:e,col:t}}(t,r))}}}))((function(e){return Object(b.jsx)("div",{className:"Gameboard",children:e.board.map((function(t,r){return Object(b.jsx)("div",{className:"row",children:t.map((function(t,a){return Object(b.jsxs)("div",{"data-row":r,"data-column":a,"data-testid":"square",className:"square",onContextMenu:function(t){return function(t,r,a){t.preventDefault(),e.flagSquare(r,a)}(t,r,a)},onClick:function(){return function(t,r){e.gameOver||e.clearSquare(t,r)}(r,a)},children:[t.mine&&e.gameOver?Object(b.jsx)("p",{className:"mine",children:"\ud83d\udca3"}):null,t.adjacent>0&&t.clear?Object(b.jsx)("p",{children:t.adjacent}):null,t.flag?Object(b.jsx)("div",{className:"flag",children:Object(b.jsx)("p",{children:"\ud83c\udfc1"})}):null,t.clear?null:Object(b.jsx)("p",{className:e.gameOver?"unclear-no-hover":"unclear"})]},"".concat(r,"-").concat(a))}))},r)}))})})),O=(r(22),r(23),Object(u.b)((function(e){return{startGame:e.minesweeper.startGame}}),{})((function(e){return Object(b.jsxs)("div",{className:"App",children:[e.startGame?null:Object(b.jsxs)("div",{children:[Object(b.jsx)("h1",{children:"Minesweeper"}),Object(b.jsxs)("div",{children:[Object(b.jsx)("p",{children:"Left click a square to mark a clear space"}),Object(b.jsx)("p",{children:"Right click a square to flag a mine"})]}),Object(b.jsx)(m,{})]}),e.startGame?Object(b.jsx)(h,{}):null]})}))),v=r(4),p=r(10),g=r(2),y=function(e){for(var t=[],r=0;r<e.length;r++){for(var a=[],n=0;n<e[r].length;n++)a.push(Object(g.a)({},e[r][n]));t.push(a)}return t},x=function e(t,r,a){for(var n=r-1;n<=r+1;n++)for(var c=a-1;c<=a+1;c++)n<=-1||n>=t.length||c<=-1||c>=t[n].length||t[n][c].clear||(t[n][c].clear=!0,0===t[n][c].adjacent&&e(t,n,c))},w=function(e,t,r){return x(e,t,r),e},E={difficulty:"Easy",startGame:!1,board:[],gameOver:!1},M=function(e,t){return Object(g.a)(Object(g.a)({},e),{},{difficulty:t.difficulty})},S=function(e,t){return Object(g.a)(Object(g.a)({},e),{},{startGame:t.startGame,board:t.board})},k=function(e,t){var r=y(e.board);return r[t.row][t.col].clear||(r[t.row][t.col].flag?r[t.row][t.col].flag=!1:r[t.row][t.col].flag=!0),Object(g.a)(Object(g.a)({},e),{},{board:r})},G=function(e,t){var r=y(e.board);r[t.row][t.col].clear=!0,r[t.row][t.col].flag=!1;var a=e.gameOver;if(r[t.row][t.col].mine){a=!0;for(var n=0;n<r.length;n++)for(var c=0;c<r[n].length;c++)r[n][c].mine&&(r[n][c].clear=!0)}else 0===r[t.row][t.col].adjacent&&(r=w(r,t.row,t.col));return Object(g.a)(Object(g.a)({},e),{},{board:r,gameOver:a})},C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l:return M(e,t);case o:return S(e,t);case s:return k(e,t);case d:return G(e,t);default:return e}},_=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||v.c,N=Object(v.b)({minesweeper:C}),q=Object(v.d)(N,_(Object(v.a)(p.a)));i.a.render(Object(b.jsx)(n.a.StrictMode,{children:Object(b.jsx)(u.a,{store:q,children:Object(b.jsx)(O,{})})}),document.getElementById("root"))}},[[24,1,2]]]);
//# sourceMappingURL=main.f7a1acf8.chunk.js.map